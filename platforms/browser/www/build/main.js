webpackJsonp([7],{

/***/ 129:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProductListPage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ProductModal; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_basket_service__ = __webpack_require__(56);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n/**\n * Generated class for the ProductListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet ProductListPage = class ProductListPage {\n    constructor(navCtrl, navParams, modalController) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.modalController = modalController;\n        this.data = this.navParams.data;\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad ProductListPage');\n    }\n    productClicked(index) {\n        let productModal = this.modalController.create(ProductModal, { product: this.data[index] }, { showBackdrop: true, cssClass: 'selectProduct' });\n        productModal.present();\n    }\n};\nProductListPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-product-list',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/product-list/product-list.html\"*/'<ion-content padding>\\n<ion-grid>\\n  <ion-row *ngFor=\"let product of data; let i = index;\" (tap)=\"productClicked(i)\" align-items-center>\\n    <ion-col col-11>\\n      <ion-row>\\n        <ion-col col-12 class=\"no-padding-bottom\"><h5 class=\"no-margin\">{{product.name}}</h5></ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col col-12 class=\"no-padding-top\"><span class=\"grey\">{{product.description}}</span></ion-col>\\n      </ion-row>\\n    </ion-col>\\n    <ion-col col-1><h4 class=\"no-margin\"><ion-icon name=\"arrow-forward\" class=\"grey\"></ion-icon></h4></ion-col>\\n  </ion-row>\\n</ion-grid>\\n</ion-content>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/product-list/product-list.html\"*/\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"h\" /* ModalController */]])\n], ProductListPage);\n\nlet ProductModal = class ProductModal {\n    constructor(params, basketService, viewCtrl) {\n        this.basketService = basketService;\n        this.viewCtrl = viewCtrl;\n        this.product = {};\n        this.quantity = 1;\n        this.product = params.get('product');\n        console.log('modal params ' + JSON.stringify(params.get('product')));\n    }\n    incrementQuantity() {\n        if (this.quantity < 10) {\n            this.quantity += 1;\n        }\n    }\n    decrementQuantity() {\n        if (this.quantity > 1) {\n            this.quantity -= 1;\n        }\n    }\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\n    add() {\n        this.basketService.add(this.product, this.quantity);\n        this.viewCtrl.dismiss();\n    }\n};\nProductModal = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'product-modal',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/product-list/product.modal.html\"*/'<ion-grid class=\"modal-container\">\\n  <ion-row justify-content-center>\\n    <ion-col col-12 class=\"center\"><h2 class=\"no-margin\">{{product.name}}</h2></ion-col>\\n  </ion-row>\\n  <ion-row justify-content-center>\\n    <ion-col col-12 class=\"center\"><h6 class=\"grey no-margin\">{{product.description}}</h6></ion-col>\\n  </ion-row>\\n  <ion-row justify-content-center>\\n    <ion-col col-6 class=\"center\"><h4 class=\"no-margin\">£{{product.price}}</h4></ion-col>\\n    <ion-col col-2 class=\"right\"><h4 class=\"no-margin\"><ion-icon name=\"remove-circle\" class=\"grey\" (click)=\"decrementQuantity()\"></ion-icon></h4></ion-col>\\n    <ion-col col-1 class=\"center\"><h4 class=\"no-margin\">{{quantity}}</h4></ion-col>\\n    <ion-col col-2 class=\"left\"><h4 class=\"no-margin\"><ion-icon name=\"add-circle\" class=\"grey\" (click)=\"incrementQuantity()\"></ion-icon></h4></ion-col>\\n\\n  </ion-row>\\n  <ion-row justify-content-center>\\n    <ion-col col-6 class=\"center\"><button class=\"modal-button\" ion-button outline (click)=\"cancel()\">Cancel</button></ion-col>\\n    <ion-col col-6 class=\"center\"><button class=\"modal-button\" ion-button (click)=\"add()\">Add</button></ion-col>\\n  </ion-row>\\n</ion-grid>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/product-list/product.modal.html\"*/\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__services_basket_service__[\"a\" /* BasketService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"l\" /* ViewController */]])\n], ProductModal);\n\n//# sourceMappingURL=product-list.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/product-list/product-list.ts\n// module id = 129\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/product-list/product-list.ts");

/***/ }),

/***/ 130:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RegisterPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_rest_service__ = __webpack_require__(29);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet RegisterPage = class RegisterPage {\n    constructor(navCtrl, navParams, restService, loadingCtrl) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.restService = restService;\n        this.loadingCtrl = loadingCtrl;\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad RegisterPage');\n    }\n    register() {\n        let loader = this.loadingCtrl.create({ content: 'Registering...' });\n        loader.present();\n        this.restService.register(this.password, this.email)\n            .subscribe(data => {\n            loader.dismiss();\n            //data is the token;\n            this.navCtrl.pop();\n        }, error => {\n            alert(error);\n        });\n    }\n};\nRegisterPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-register',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/register/register.html\"*/'<!--\\n  Generated template for the CheckoutPage page.\\n\\n  See http://ionicframework.com/docs/components/#navigation for more info on\\n  Ionic pages and navigation.\\n-->\\n<ion-header>\\n\\n  <ion-navbar>\\n    <ion-title>Sign Up</ion-title>\\n  </ion-navbar>\\n\\n</ion-header>\\n\\n\\n<ion-content padding>\\n  <form (ngSubmit)=\"register()\">\\n    <ion-list inset class=\"no-margin\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item [ngClass]=\"{\\'has-error\\': emailinput.errors?.email}\">\\n              <ion-label><ion-icon name=\"mail-outline\"></ion-icon></ion-label>\\n              <ion-input type=\"string\" [(ngModel)]=\"email\" name=\"Email\" placeholder=\"Email\" #emailinput=\"ngModel\" email=\"false\" required></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item [ngClass]=\"{\\'has-error\\': passwordinput.errors?.required}\">\\n              <ion-label><ion-icon name=\"lock-outline\"></ion-icon></ion-label>\\n              <ion-input type=\"password\" [(ngModel)]=\"password\" name=\"password\" placeholder=\"Password\" #passwordinput=\"ngModel\" required></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n\\n\\n\\n\\n    </ion-list>\\n    <button ion-button type=\"submit\" block>Sign Up</button>\\n  </form>\\n</ion-content>\\n\\n<!--\\n<ion-row>\\n  <ion-col col-7 class=\"no-padding\">\\n    <ion-item [ngClass]=\"{\\'has-error\\': expiry.errors?.email}\">\\n      <ion-label><ion-icon name=\"calendar-outline\"></ion-icon></ion-label>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.expiry\" name=\"expiry\" placeholder=\"MM\" required #expiry=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n  <ion-col col-5 class=\"no-padding\">\\n    <ion-item>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.year\" name=\"year\" placeholder=\"YY\" required #year=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n-->\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/register/register.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"g\" /* LoadingController */]])\n], RegisterPage);\n\n//# sourceMappingURL=register.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/register/register.ts\n// module id = 130\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/register/register.ts");

/***/ }),

/***/ 131:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AddPaymentPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n/**\n * Generated class for the AddPaymentPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet AddPaymentPage = class AddPaymentPage {\n    constructor(navCtrl, navParams) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.paymentDetails = {};\n        this.minMonth = \"01\";\n        this.minYear = \"17\";\n        this.maxYear = \"27\";\n        this.validExpiry = true;\n        this.saveForLater = true;\n        this.callback = this.navParams.get('callback');\n        this.stripe = this.navParams.get('stripe');\n        var now = new Date();\n        this.minMonth = (now.getMonth() + 1).toString();\n        this.minYear = now.getFullYear().toString();\n        this.maxYear = this.minYear + 10;\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad AddPaymentPage');\n    }\n    addPayment() {\n        var split = this.paymentDetails.exp.split('-');\n        this.paymentDetails.expYear = split[0];\n        this.paymentDetails.expMonth = split[1];\n        delete this.paymentDetails.exp;\n        this.paymentDetails.new = true;\n        this.paymentDetails.saveForLater = this.saveForLater;\n        this.callback(this.paymentDetails).then(() => {\n            this.navCtrl.pop();\n        });\n    }\n    validateExpiry() {\n        var split = this.paymentDetails.exp.split('-');\n        if (parseInt(split[0]) > parseInt(this.minYear)) {\n            this.validExpiry = true;\n        }\n        else {\n            if (parseInt(split[1]) >= parseInt(this.minMonth)) {\n                //month matches or is greater than current so its valid\n                this.validExpiry = true;\n            }\n            else {\n                this.validExpiry = false;\n            }\n        }\n    }\n};\nAddPaymentPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-add-payment',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/add-payment/add-payment.html\"*/'<ion-header>\\n\\n  <ion-navbar>\\n    <ion-title>Add Payment</ion-title>\\n  </ion-navbar>\\n\\n</ion-header>\\n\\n\\n<ion-content padding>\\n  <form (ngSubmit)=\"addPayment()\">\\n\\n    <ion-list inset class=\"no-margin\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item [ngClass]=\"{\\'has-error\\': number.errors?.creditCard}\">\\n              <ion-label><ion-icon name=\"card-outline\"></ion-icon></ion-label>\\n              <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.number\" name=\"cardnumber\" placeholder=\"Card Number\" creditCard #number=\"ngModel\" required></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-7>\\n            <ion-item [ngClass]=\"{\\'has-error\\': !validExpiry}\">\\n              <ion-label><ion-icon name=\"calendar-outline\"></ion-icon></ion-label>\\n              <ion-datetime displayFormat=\"MM/YY\" [(ngModel)]=\"paymentDetails.exp\" name=\"exp\" [min]=\"minYear\" max=\"2025\" placeholder=\"MM/YY\" (ionChange)=\"validateExpiry()\"></ion-datetime>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col col-5>\\n            <ion-row>\\n              <ion-item [ngClass]=\"{\\'has-error\\': cvc.errors?.digits}\">\\n                <ion-label><ion-icon name=\"lock-outline\"></ion-icon></ion-label>\\n                <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.cvc\" name=\"cvc\" placeholder=\"CVC\" required #cvc=\"ngModel\" digits maxlength=\"3\"></ion-input>\\n              </ion-item>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item>\\n              <ion-label>Save card for later?</ion-label>\\n              <ion-checkbox [(ngModel)]=\"saveForLater\" name=\"save\"></ion-checkbox>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n\\n\\n\\n\\n    </ion-list>\\n    <button ion-button type=\"submit\" block>Add</button>\\n  </form>\\n</ion-content>\\n\\n<!--\\n<ion-row>\\n  <ion-col col-7 class=\"no-padding\">\\n    <ion-item [ngClass]=\"{\\'has-error\\': expiry.errors?.email}\">\\n      <ion-label><ion-icon name=\"calendar-outline\"></ion-icon></ion-label>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.expiry\" name=\"expiry\" placeholder=\"MM\" required #expiry=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n  <ion-col col-5 class=\"no-padding\">\\n    <ion-item>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.year\" name=\"year\" placeholder=\"YY\" required #year=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n-->\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/add-payment/add-payment.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */]])\n], AddPaymentPage);\n\n//# sourceMappingURL=add-payment.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/add-payment/add-payment.ts\n// module id = 131\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/add-payment/add-payment.ts");

/***/ }),

/***/ 132:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LoginPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_storage__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__register_register__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__checkout_checkout__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_rest_service__ = __webpack_require__(29);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet LoginPage = class LoginPage {\n    constructor(navCtrl, viewCtrl, navParams, storage, restService, loadingCtrl) {\n        this.navCtrl = navCtrl;\n        this.viewCtrl = viewCtrl;\n        this.navParams = navParams;\n        this.storage = storage;\n        this.restService = restService;\n        this.loadingCtrl = loadingCtrl;\n        //check if current User Exists\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad LoginPage');\n    }\n    login() {\n        let loader = this.loadingCtrl.create({});\n        loader.present();\n        this.restService.login(this.email, this.password)\n            .subscribe(data => {\n            loader.dismiss();\n            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__checkout_checkout__[\"a\" /* CheckoutPage */], this.viewCtrl)\n                .then(() => {\n                const index = this.viewCtrl.index;\n                this.navCtrl.remove(index);\n            });\n        }, error => {\n            console.log(error);\n        });\n    }\n    signUp() {\n        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__register_register__[\"a\" /* RegisterPage */]);\n    }\n};\nLoginPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-login',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/login/login.html\"*/'<!--\\n  Generated template for the CheckoutPage page.\\n\\n  See http://ionicframework.com/docs/components/#navigation for more info on\\n  Ionic pages and navigation.\\n-->\\n<ion-header>\\n\\n  <ion-navbar>\\n    <ion-buttons>\\n      <button navPop ion-button>\\n\t\t\t\tCancel\\n\t\t\t</button>\\n    </ion-buttons>\\n    <ion-title>Log in</ion-title>\\n  </ion-navbar>\\n\\n</ion-header>\\n\\n\\n<ion-content padding>\\n  <form (ngSubmit)=\"login()\">\\n    <ion-list inset class=\"no-margin\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item [ngClass]=\"{\\'has-error\\': emailinput.errors?.email}\">\\n              <ion-label><ion-icon name=\"mail-outline\"></ion-icon></ion-label>\\n              <ion-input type=\"string\" [(ngModel)]=\"email\" name=\"Email\" placeholder=\"Email\" #emailinput=\"ngModel\" email=\"false\" required></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-12>\\n            <ion-item [ngClass]=\"{\\'has-error\\': passwordinput.errors?.required}\">\\n              <ion-label><ion-icon name=\"lock-outline\"></ion-icon></ion-label>\\n              <ion-input type=\"password\" [(ngModel)]=\"password\" name=\"password\" placeholder=\"Password\" #passwordinput=\"ngModel\" required></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n\\n\\n\\n\\n    </ion-list>\\n    <button ion-button type=\"submit\" block>Log in</button>\\n  </form>\\n  <ion-label class=\"center\">OR</ion-label>\\n  <button ion-button (click)=\"signUp()\" block>Sign Up</button>\\n</ion-content>\\n\\n<!--\\n<ion-row>\\n  <ion-col col-7 class=\"no-padding\">\\n    <ion-item [ngClass]=\"{\\'has-error\\': expiry.errors?.email}\">\\n      <ion-label><ion-icon name=\"calendar-outline\"></ion-icon></ion-label>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.expiry\" name=\"expiry\" placeholder=\"MM\" required #expiry=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n  <ion-col col-5 class=\"no-padding\">\\n    <ion-item>\\n      <ion-input type=\"string\" [(ngModel)]=\"paymentDetails.year\" name=\"year\" placeholder=\"YY\" required #year=\"ngModel\"></ion-input>\\n    </ion-item>\\n  </ion-col>\\n</ion-row>\\n-->\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/login/login.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"l\" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__ionic_storage__[\"b\" /* Storage */], __WEBPACK_IMPORTED_MODULE_5__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"g\" /* LoadingController */]])\n], LoginPage);\n\n//# sourceMappingURL=login.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/login.ts\n// module id = 132\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/login/login.ts");

/***/ }),

/***/ 133:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MenuPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_storage__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_pullup__ = __webpack_require__(187);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__product_list_product_list__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__checkout_checkout__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_rest_service__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_cache_service__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_basket_service__ = __webpack_require__(56);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n/**\n * Generated class for the MenuPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet MenuPage = class MenuPage {\n    constructor(navCtrl, navParams, restService, loadingCtrl, cache, basketService, alertController, modalController, storage) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.restService = restService;\n        this.loadingCtrl = loadingCtrl;\n        this.cache = cache;\n        this.basketService = basketService;\n        this.alertController = alertController;\n        this.modalController = modalController;\n        this.storage = storage;\n        this.checkoutButton = false;\n        this.productListPage = __WEBPACK_IMPORTED_MODULE_4__product_list_product_list__[\"a\" /* ProductListPage */];\n        this.menu = {};\n        this.table = {};\n        this.premises = {};\n        this.basket = { contents: [] };\n        //let loader = this.loadingCtrl.create({content:'Loading...'});\n        //loader.present();\n        this.table = this.cache.get('table');\n        this.menu = this.cache.get('menu');\n        this.premises = this.cache.get('premises');\n        this.footerState = __WEBPACK_IMPORTED_MODULE_3_ionic_pullup__[\"a\" /* IonPullUpFooterState */].Collapsed;\n        var self = this;\n        this.basketService.getBasket(function (data) {\n            self.basket = data;\n        });\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad MenuPage');\n    }\n    footerExpanded() {\n        this.checkoutButton = true;\n    }\n    footerCollapsed() {\n        this.checkoutButton = false;\n    }\n    toggleFooter() {\n        this.footerState = this.footerState == __WEBPACK_IMPORTED_MODULE_3_ionic_pullup__[\"a\" /* IonPullUpFooterState */].Collapsed ? __WEBPACK_IMPORTED_MODULE_3_ionic_pullup__[\"a\" /* IonPullUpFooterState */].Expanded : __WEBPACK_IMPORTED_MODULE_3_ionic_pullup__[\"a\" /* IonPullUpFooterState */].Collapsed;\n    }\n    checkout() {\n        let alert = this.alertController.create({\n            title: \"ID Verification\",\n            subTitle: \"A valid form of identification will be required upon delivery of the drinks. Failure to provide will result in drinks being rejected and no refund will be issued.\",\n            buttons: [{\n                    text: 'OK',\n                    handler: () => {\n                        //this.navCtrl.push(CheckoutPage);\n                        this.cache.put(\"order\", this.basket);\n                        this.storage.get('currentUser').then((currentUser) => {\n                            if (typeof currentUser == 'string') {\n                                currentUser = JSON.parse(currentUser);\n                            }\n                            if (currentUser) {\n                                //user already logged in so skip this screen\n                                let checkoutModal = this.modalController.create(__WEBPACK_IMPORTED_MODULE_6__checkout_checkout__[\"a\" /* CheckoutPage */]);\n                                checkoutModal.present();\n                            }\n                            else {\n                                let loginModal = this.modalController.create(__WEBPACK_IMPORTED_MODULE_5__login_login__[\"a\" /* LoginPage */]);\n                                loginModal.present();\n                            }\n                        });\n                    }\n                }]\n        });\n        alert.present();\n    }\n    remove(product) {\n        this.basketService.remove(product);\n    }\n    getFooterHeight() {\n        return window.innerHeight / 2;\n    }\n};\nMenuPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-menu',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/menu/menu.html\"*/'<ion-header>\\n\\n  <ion-navbar hideBackButton=\"true\">\\n    <ion-title>{{premises.name}}</ion-title>\\n  </ion-navbar>\\n  <ion-label text-center>{{table.name}}</ion-label>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-tabs tabsPlacement=\"top\" [ngClass]=\"{\\'bottom-margin\\': basket.contents.length != 0}\">\\n      <ion-tab *ngFor=\"let section of menu.contents\" [root]=\"productListPage\" [rootParams]=\"section.products\" [tabTitle]=\"section.title\"></ion-tab>\\n    </ion-tabs>\\n</ion-content>\\n\\n<ion-pullup (onExpand)=\"footerExpanded()\" (onCollapse)=\"footerCollapsed()\" [(state)]=\"footerState\" [maxHeight]=\"getFooterHeight()\" [ngClass]=\"{\\'hidden\\': basket.contents.length == 0}\">\\n  <ion-pullup-tab (tap)=\"toggleFooter()\">\\n    <h5 class=\"no-margin\"><ion-icon name=\"arrow-up\" *ngIf=\"footerState == 0\"></ion-icon><ion-icon name=\"arrow-down\" *ngIf=\"footerState == 1\"></ion-icon></h5>\\n  </ion-pullup-tab>\\n  <ion-toolbar color=\"primary\" (tap)=\"toggleFooter()\">\\n    <ion-title class=\"basket\">Total £{{basket.subtotal || 00.00}}</ion-title>\\n    <button *ngIf=\"footerState == 0\" ion-button color=\"light\" class=\"checkout\" (tap)=\"toggleFooter(); $event.stopPropagation()\">View Order</button>\\n    <button *ngIf=\"footerState == 1\" ion-button color=\"light\" class=\"checkout\" (click)=\"checkout(); $event.stopPropagation()\">Checkout</button>\\n  </ion-toolbar>\\n  <ion-content class=\"basket\">\\n    <ion-list>\\n      <ion-item-sliding *ngFor=\"let product of basket.contents\">\\n        <ion-item>\\n          <h2>{{product.quantity}}x {{product.product.name}}</h2>\\n          <h3 item-end>£{{product.product.price}}</h3>\\n        </ion-item>\\n        <ion-item-options side=\"right\">\\n          <button ion-button color=\"danger\" (tap)=\"remove(product.product)\">\\n            <ion-icon name=\"Remove\"></ion-icon>\\n            Remove\\n          </button>\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </ion-list>\\n  </ion-content>\\n</ion-pullup>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/menu/menu.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_7__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"g\" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_8__services_cache_service__[\"a\" /* CacheService */], __WEBPACK_IMPORTED_MODULE_9__services_basket_service__[\"a\" /* BasketService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"a\" /* AlertController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"h\" /* ModalController */], __WEBPACK_IMPORTED_MODULE_2__ionic_storage__[\"b\" /* Storage */]])\n], MenuPage);\n\n//# sourceMappingURL=menu.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/menu/menu.ts\n// module id = 133\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/menu/menu.ts");

/***/ }),

/***/ 134:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ScannerPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_barcode_scanner__ = __webpack_require__(190);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_menu__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_rest_service__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_cache_service__ = __webpack_require__(58);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n/**\n * Generated class for the ScannerPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet ScannerPage = class ScannerPage {\n    constructor(navCtrl, navParams, barcodeScanner, restService, cache, platform, loadingCtrl, alertCtrl) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.barcodeScanner = barcodeScanner;\n        this.restService = restService;\n        this.cache = cache;\n        this.platform = platform;\n        this.loadingCtrl = loadingCtrl;\n        this.alertCtrl = alertCtrl;\n        this.options = {\n            preferFrontCamera: false,\n            showFlipCameraButton: false,\n            showTorchButton: true,\n            torchOn: false,\n            prompt: \"Find the barcode on your table and scan in!\",\n            formats: \"QR_CODE\"\n        };\n    }\n    ionViewDidLoad() {\n    }\n    scan() {\n        if (!this.platform.is('cordova')) {\n            this.scanIn(\"599ab8e70bbb0b000fffb7e9\");\n        }\n        else {\n            this.barcodeScanner.scan(this.options).then((barcodeData) => {\n                this.scanIn(barcodeData.text);\n            }, (err) => {\n                alert(err);\n            });\n        }\n    }\n    scanIn(tableId) {\n        let loader = this.loadingCtrl.create({ content: 'Loading...' });\n        loader.present();\n        this.restService.scanIn(tableId)\n            .subscribe(data => {\n            this.cache.put('menu', data.menu);\n            this.cache.put('table', data.table);\n            this.cache.put('premises', data.premises);\n            loader.dismiss();\n            this.navToRoot();\n        }, error => {\n            alert(error);\n        });\n    }\n    navToRoot() {\n        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__menu_menu__[\"a\" /* MenuPage */]);\n        this.navCtrl.remove(0, 1, null);\n    }\n};\nScannerPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-scanner',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/scanner/scanner.html\"*/'<ion-content center text-center>\\n  <ion-grid class=\"scanner\">\\n    <ion-row center>\\n      <ion-col>\\n        <h3><ion-label class=\"wrap\">To begin, find our QR code on your table and scan it.</ion-label></h3>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row center>\\n      <ion-col>\\n        <img src=\"assets/scan.gif\" class=\"scanimg\"/>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row center>\\n      <ion-col>\\n        <button ion-button (click)=\"scan()\">Scan</button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/scanner/scanner.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_barcode_scanner__[\"a\" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_4__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_5__services_cache_service__[\"a\" /* CacheService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"k\" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"g\" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"a\" /* AlertController */]])\n], ScannerPage);\n\n//# sourceMappingURL=scanner.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/scanner/scanner.ts\n// module id = 134\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/scanner/scanner.ts");

/***/ }),

/***/ 142:
/***/ (function(module, exports) {

eval("function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 142;\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 142\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/node_modules/@angular/core/@angular_lazy");

/***/ }),

/***/ 184:
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"../pages/add-payment/add-payment.module\": [\n\t\t436,\n\t\t6\n\t],\n\t\"../pages/checkout/checkout.module\": [\n\t\t437,\n\t\t5\n\t],\n\t\"../pages/login/login.module\": [\n\t\t438,\n\t\t4\n\t],\n\t\"../pages/menu/menu.module\": [\n\t\t439,\n\t\t3\n\t],\n\t\"../pages/product-list/product-list.module\": [\n\t\t434,\n\t\t2\n\t],\n\t\"../pages/register/register.module\": [\n\t\t435,\n\t\t1\n\t],\n\t\"../pages/scanner/scanner.module\": [\n\t\t440,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 184;\nmodule.exports = webpackAsyncContext;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 184\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src_lazy");

/***/ }),

/***/ 270:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(289);\n\n\nObject(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__[\"a\" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__[\"a\" /* AppModule */]);\n//# sourceMappingURL=main.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main.ts\n// module id = 270\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/app/main.ts");

/***/ }),

/***/ 289:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AppModule; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_storage__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_splash_screen__ = __webpack_require__(230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_status_bar__ = __webpack_require__(231);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_stripe__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ng2_validation__ = __webpack_require__(342);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ng2_validation___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_ng2_validation__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_barcode_scanner__ = __webpack_require__(190);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ionic_pullup__ = __webpack_require__(187);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_component__ = __webpack_require__(432);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_home_home__ = __webpack_require__(433);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_scanner_scanner__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_menu_menu__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_product_list_product_list__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_checkout_checkout__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_login_login__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_register_register__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_add_payment_add_payment__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__services_rest_service__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__services_cache_service__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__services_basket_service__ = __webpack_require__(56);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet AppModule = class AppModule {\n};\nAppModule = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"NgModule\"])({\n        declarations: [\n            __WEBPACK_IMPORTED_MODULE_11__app_component__[\"a\" /* MyApp */],\n            __WEBPACK_IMPORTED_MODULE_12__pages_home_home__[\"a\" /* HomePage */],\n            __WEBPACK_IMPORTED_MODULE_13__pages_scanner_scanner__[\"a\" /* ScannerPage */],\n            __WEBPACK_IMPORTED_MODULE_14__pages_menu_menu__[\"a\" /* MenuPage */],\n            __WEBPACK_IMPORTED_MODULE_15__pages_product_list_product_list__[\"a\" /* ProductListPage */],\n            __WEBPACK_IMPORTED_MODULE_15__pages_product_list_product_list__[\"b\" /* ProductModal */],\n            __WEBPACK_IMPORTED_MODULE_16__pages_checkout_checkout__[\"a\" /* CheckoutPage */],\n            __WEBPACK_IMPORTED_MODULE_17__pages_login_login__[\"a\" /* LoginPage */],\n            __WEBPACK_IMPORTED_MODULE_18__pages_register_register__[\"a\" /* RegisterPage */],\n            __WEBPACK_IMPORTED_MODULE_19__pages_add_payment_add_payment__[\"a\" /* AddPaymentPage */]\n        ],\n        imports: [\n            __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__[\"a\" /* BrowserModule */],\n            __WEBPACK_IMPORTED_MODULE_4_ionic_angular__[\"d\" /* IonicModule */].forRoot(__WEBPACK_IMPORTED_MODULE_11__app_component__[\"a\" /* MyApp */], {}, {\n                links: [\n                    { loadChildren: '../pages/product-list/product-list.module#ProductListPageModule', name: 'ProductListPage', segment: 'product-list', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/register/register.module#RegisterPageModule', name: 'RegisterPage', segment: 'register', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/add-payment/add-payment.module#AddPaymentPageModule', name: 'AddPaymentPage', segment: 'add-payment', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/checkout/checkout.module#CheckoutPageModule', name: 'CheckoutPage', segment: 'checkout', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/login/login.module#LoginPageModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/menu/menu.module#MenuPageModule', name: 'MenuPage', segment: 'menu', priority: 'low', defaultHistory: [] },\n                    { loadChildren: '../pages/scanner/scanner.module#ScannerPageModule', name: 'ScannerPage', segment: 'scanner', priority: 'low', defaultHistory: [] }\n                ]\n            }),\n            __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"c\" /* HttpModule */],\n            __WEBPACK_IMPORTED_MODULE_10_ionic_pullup__[\"b\" /* IonPullupModule */],\n            __WEBPACK_IMPORTED_MODULE_8_ng2_validation__[\"CustomFormsModule\"],\n            __WEBPACK_IMPORTED_MODULE_3__ionic_storage__[\"a\" /* IonicStorageModule */].forRoot()\n        ],\n        bootstrap: [__WEBPACK_IMPORTED_MODULE_4_ionic_angular__[\"b\" /* IonicApp */]],\n        entryComponents: [\n            __WEBPACK_IMPORTED_MODULE_11__app_component__[\"a\" /* MyApp */],\n            __WEBPACK_IMPORTED_MODULE_12__pages_home_home__[\"a\" /* HomePage */],\n            __WEBPACK_IMPORTED_MODULE_13__pages_scanner_scanner__[\"a\" /* ScannerPage */],\n            __WEBPACK_IMPORTED_MODULE_14__pages_menu_menu__[\"a\" /* MenuPage */],\n            __WEBPACK_IMPORTED_MODULE_15__pages_product_list_product_list__[\"a\" /* ProductListPage */],\n            __WEBPACK_IMPORTED_MODULE_15__pages_product_list_product_list__[\"b\" /* ProductModal */],\n            __WEBPACK_IMPORTED_MODULE_16__pages_checkout_checkout__[\"a\" /* CheckoutPage */],\n            __WEBPACK_IMPORTED_MODULE_17__pages_login_login__[\"a\" /* LoginPage */],\n            __WEBPACK_IMPORTED_MODULE_18__pages_register_register__[\"a\" /* RegisterPage */],\n            __WEBPACK_IMPORTED_MODULE_19__pages_add_payment_add_payment__[\"a\" /* AddPaymentPage */]\n        ],\n        providers: [\n            __WEBPACK_IMPORTED_MODULE_6__ionic_native_status_bar__[\"a\" /* StatusBar */],\n            __WEBPACK_IMPORTED_MODULE_5__ionic_native_splash_screen__[\"a\" /* SplashScreen */],\n            __WEBPACK_IMPORTED_MODULE_9__ionic_native_barcode_scanner__[\"a\" /* BarcodeScanner */],\n            { provide: __WEBPACK_IMPORTED_MODULE_2__angular_core__[\"ErrorHandler\"], useClass: __WEBPACK_IMPORTED_MODULE_4_ionic_angular__[\"c\" /* IonicErrorHandler */] },\n            __WEBPACK_IMPORTED_MODULE_20__services_rest_service__[\"a\" /* RestService */],\n            __WEBPACK_IMPORTED_MODULE_21__services_cache_service__[\"a\" /* CacheService */],\n            __WEBPACK_IMPORTED_MODULE_22__services_basket_service__[\"a\" /* BasketService */],\n            __WEBPACK_IMPORTED_MODULE_7__ionic_native_stripe__[\"a\" /* Stripe */]\n        ]\n    })\n], AppModule);\n\n//# sourceMappingURL=app.module.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.module.ts\n// module id = 289\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/app/app.module.ts");

/***/ }),

/***/ 29:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RestService; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_storage__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__(315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nlet RestService = class RestService {\n    constructor(http, storage) {\n        this.http = http;\n        this.storage = storage;\n        this.baseUrl = \"http://192.168.99.100:31126/mobile/webapp/\";\n        this.cache = {};\n    }\n    scanIn(tableId) {\n        return this.http.get(this.baseUrl + 'scan/' + tableId)\n            .map((response) => {\n            return response.json();\n        });\n    }\n    register(password, email) {\n        return this.http.post(this.baseUrl + 'register', { password: password, email: email })\n            .map((response) => {\n            let token = response.json();\n            if (token && token.token) {\n                this.storage.set('currentUser', token.token);\n                this.currentUser = this.jwt();\n            }\n            return token;\n        });\n    }\n    login(email, password) {\n        return this.http.post(this.baseUrl + \"login\", { email: email, password: password })\n            .map((response) => {\n            let token = response.json();\n            if (token && token.token) {\n                this.storage.set('currentUser', token);\n                this.jwt(token);\n            }\n            return token;\n        });\n    }\n    checkToken() {\n        return this.http.get(this.baseUrl + \"token\", this.currentUser)\n            .map((response) => {\n            return response.json();\n        });\n    }\n    order(order) {\n        console.log(this.currentUser);\n        return this.http.post(this.baseUrl + \"order\", order, this.currentUser)\n            .map((response) => {\n            return response.json();\n        });\n    }\n    retrieveStoredPaymentMethods() {\n        return this.http.get(this.baseUrl + \"payments/stored\", this.currentUser)\n            .map((response) => {\n            return response.json();\n        });\n    }\n    authUser() {\n        return new Promise((resolve, reject) => {\n            this.storage.get('currentUser').then((currentUser) => {\n                if (currentUser) {\n                    let headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Headers */]({ 'Authorization': 'Bearer ' + currentUser.token });\n                    this.currentUser = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\n                    this.http.get(this.baseUrl + \"token\", this.currentUser)\n                        .map((response) => {\n                        return response.json();\n                    })\n                        .subscribe((data) => {\n                        //token is valid\n                        resolve(null);\n                    }, (error) => {\n                        if (error.status == 401 || error.status == 400) {\n                            this.storage.remove('currentUser');\n                            resolve(null);\n                        }\n                    });\n                }\n                else {\n                    resolve(null);\n                }\n            });\n        });\n    }\n    //private helper methods\n    jwt(token) {\n        if (token) {\n            let headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Headers */]({ 'Authorization': 'Bearer ' + token.token });\n            this.currentUser = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\n        }\n        else {\n            this.storage.get('currentUser').then((currentUser) => {\n                if (currentUser) {\n                    let headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"a\" /* Headers */]({ 'Authorization': 'Bearer ' + currentUser.token });\n                    this.currentUser = new __WEBPACK_IMPORTED_MODULE_1__angular_http__[\"d\" /* RequestOptions */]({ headers: headers });\n                }\n            });\n        }\n    }\n};\nRestService = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1__angular_http__[\"b\" /* Http */], __WEBPACK_IMPORTED_MODULE_2__ionic_storage__[\"b\" /* Storage */]])\n], RestService);\n\n//# sourceMappingURL=rest.service.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/services/rest.service.ts\n// module id = 29\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/services/rest.service.ts");

/***/ }),

/***/ 432:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MyApp; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__ = __webpack_require__(231);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_storage__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_scanner_scanner__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_rest_service__ = __webpack_require__(29);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\nlet MyApp = class MyApp {\n    constructor(platform, statusBar, splashScreen, restService, storage) {\n        this.restService = restService;\n        this.storage = storage;\n        this.rootPage = __WEBPACK_IMPORTED_MODULE_5__pages_scanner_scanner__[\"a\" /* ScannerPage */];\n        platform.ready().then(() => {\n            // Okay, so the platform is ready and our plugins are available.\n            // Here you can do any higher level native things you might need.\n            statusBar.styleDefault();\n            this.restService.authUser().then((data) => {\n                splashScreen.hide();\n            }, (reject) => {\n                splashScreen.hide();\n            });\n        });\n    }\n};\nMyApp = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/app/app.html\"*/'<ion-nav [root]=\"rootPage\"></ion-nav>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/app/app.html\"*/\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"k\" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__[\"a\" /* StatusBar */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__[\"a\" /* SplashScreen */], __WEBPACK_IMPORTED_MODULE_6__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_4__ionic_storage__[\"b\" /* Storage */]])\n], MyApp);\n\n//# sourceMappingURL=app.component.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.ts\n// module id = 432\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/app/app.component.ts");

/***/ }),

/***/ 433:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HomePage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\nlet HomePage = class HomePage {\n    constructor(navCtrl) {\n        this.navCtrl = navCtrl;\n    }\n};\nHomePage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-home',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/home/home.html\"*/'<ion-header>\\n  <ion-navbar>\\n    <ion-title>\\n      Ionic Blank\\n    </ion-title>\\n  </ion-navbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  The world is your oyster.\\n  <p>\\n    If you get lost, the <a href=\"http://ionicframework.com/docs/v2\">docs</a> will be your guide.\\n  </p>\\n</ion-content>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/home/home.html\"*/\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */]])\n], HomePage);\n\n//# sourceMappingURL=home.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/home.ts\n// module id = 433\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/home/home.ts");

/***/ }),

/***/ 56:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return BasketService; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\nlet BasketService = class BasketService {\n    constructor(http) {\n        this.http = http;\n        this.basket = [];\n        this.quantities = {};\n        this.subtotal = 0;\n        this.basketChange = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__[\"Subject\"]();\n    }\n    add(product, quantity) {\n        this.basket[this.basket.length] = product;\n        if (this.quantities[product._id]) {\n            this.quantities[product._id] += quantity;\n        }\n        else {\n            this.quantities[product._id] = quantity;\n        }\n        this.subtotal += parseFloat(((product.price * quantity)).toFixed(2));\n        this.subtotal = parseFloat(this.subtotal.toFixed(2));\n        this.emitBasket();\n    }\n    emitBasket() {\n        var toReturn = [];\n        for (var key in this.quantities) {\n            var nextEntry = {};\n            nextEntry.quantity = this.quantities[key];\n            for (var i = 0; i < this.basket.length; i++) {\n                if (this.basket[i]._id == key) {\n                    nextEntry.product = this.basket[i];\n                    break;\n                }\n            }\n            toReturn[toReturn.length] = nextEntry;\n        }\n        var basket = {};\n        basket.subtotal = this.subtotal;\n        basket.contents = toReturn;\n        this.basketChange.next(basket);\n    }\n    remove(product) {\n        for (var i = 0; i < this.basket.length; i++) {\n            if (this.basket[i]._id == product._id) {\n                this.basket.splice(i, 1);\n                this.quantities[product._id] -= 1;\n                if (this.quantities[product._id] == 0) {\n                    delete this.quantities[product._id];\n                }\n                break;\n            }\n        }\n        this.emitBasket();\n    }\n    clear() {\n        this.basket = [];\n        this.quantities = {};\n        this.subtotal = 0;\n        this.emitBasket();\n    }\n    decrementQuantity(product) {\n        this.quantities[product._id] -= 1;\n    }\n    getBasket(callback) {\n        return this.basketChange.subscribe(data => {\n            callback(data);\n        });\n    }\n};\nBasketService = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1__angular_http__[\"b\" /* Http */]])\n], BasketService);\n\n//# sourceMappingURL=basket.service.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/services/basket.service.ts\n// module id = 56\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/services/basket.service.ts");

/***/ }),

/***/ 58:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CacheService; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(50);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\nlet CacheService = class CacheService {\n    constructor(http) {\n        this.http = http;\n        this.cache = {};\n    }\n    get(id) {\n        return this.cache[id];\n    }\n    put(id, contents) {\n        this.cache[id] = contents;\n    }\n};\nCacheService = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1__angular_http__[\"b\" /* Http */]])\n], CacheService);\n\n//# sourceMappingURL=cache.service.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/services/cache.service.ts\n// module id = 58\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/services/cache.service.ts");

/***/ }),

/***/ 70:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CheckoutPage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_stripe__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_cache_service__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_rest_service__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__add_payment_add_payment__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_basket_service__ = __webpack_require__(56);\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n/**\n * Generated class for the CheckoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nlet CheckoutPage = class CheckoutPage {\n    constructor(navCtrl, navParams, stripe, cache, modalController, restService, alertCtrl, loadingCtrl, basketService) {\n        this.navCtrl = navCtrl;\n        this.navParams = navParams;\n        this.stripe = stripe;\n        this.cache = cache;\n        this.modalController = modalController;\n        this.restService = restService;\n        this.alertCtrl = alertCtrl;\n        this.loadingCtrl = loadingCtrl;\n        this.basketService = basketService;\n        this.storedPaymentMethods = { cards: [] };\n        this.selectedPayment = 0;\n        this.loading = true;\n        this.paymentDetails = {};\n        this.order = {};\n        this.email = \"\";\n        this.publishableKey = \"pk_test_N2x34swOlQSZGo7zr6b3A9rR\";\n        this.minMonth = \"01\";\n        this.minYear = \"17\";\n        this.maxYear = \"27\";\n        this.validExpiry = true;\n        this.saveForLater = true;\n        this.retrievePaymentMethods();\n        this.stripe.setPublishableKey(this.publishableKey);\n        this.order = this.cache.get('order');\n        var now = new Date();\n        this.minMonth = (now.getMonth() + 1).toString();\n        this.minYear = now.getFullYear().toString();\n        this.maxYear = this.minYear + 10;\n    }\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad CheckoutPage');\n    }\n    retrievePaymentMethods() {\n        this.restService.retrieveStoredPaymentMethods()\n            .subscribe(data => {\n            this.loading = false;\n            this.storedPaymentMethods = data;\n        }, error => {\n            alert(error);\n        });\n    }\n    addPayment() {\n        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__add_payment_add_payment__[\"a\" /* AddPaymentPage */], {\n            callback: this.addPaymentCallback.bind(this)\n        });\n    }\n    addPaymentCallback(paymentDetails) {\n        return new Promise((resolve, reject) => {\n            var cardObj = {};\n            cardObj.number = paymentDetails.number;\n            cardObj.expMonth = paymentDetails.expMonth;\n            cardObj.expYear = paymentDetails.expYear;\n            cardObj.cvc = paymentDetails.cvc;\n            this.stripe.createCardToken(cardObj)\n                .then(token => {\n                var toDisplay = {};\n                toDisplay.last4 = token.card.last4;\n                toDisplay.exp_month = token.card.exp_month;\n                toDisplay.exp_year = token.card.exp_year;\n                toDisplay.brand = token.card.brand;\n                toDisplay.source = token.id;\n                toDisplay.new = true;\n                toDisplay.saveForLater = paymentDetails.saveForLater;\n                var replaced = false;\n                for (var i = 0; i < this.storedPaymentMethods.cards.length; i++) {\n                    if (this.storedPaymentMethods.cards[i].new) {\n                        this.storedPaymentMethods.cards[i] = toDisplay;\n                        replaced = true;\n                        break;\n                    }\n                }\n                if (!replaced) {\n                    this.storedPaymentMethods.cards[this.storedPaymentMethods.cards.length] = toDisplay;\n                }\n                resolve();\n            })\n                .catch(error => {\n                console.log(error);\n                resolve();\n            });\n        });\n    }\n    submitOrder() {\n        let loader = this.loadingCtrl.create({ content: 'Loading...' });\n        loader.present();\n        this.order.table = this.cache.get(\"table\")._id;\n        this.order.premises = this.cache.get(\"premises\")._id;\n        this.order.source = this.selectedPayment.source;\n        if (this.selectedPayment.saveForLater) {\n            this.order.storePaymentDetails = true;\n        }\n        else {\n            this.order.storePaymentDetails = false;\n        }\n        this.restService.order(this.order)\n            .subscribe(data => {\n            let alert = this.alertCtrl.create({\n                title: \"Order Placed\",\n                buttons: [\n                    { text: 'Ok',\n                        handler: () => {\n                            this.basketService.clear();\n                            loader.dismiss();\n                            this.navCtrl.pop();\n                        } }\n                ]\n            });\n            alert.present();\n        }, error => {\n            console.log(error);\n        });\n    }\n};\nCheckoutPage = __decorate([\n    Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"e\" /* IonicPage */])(),\n    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n        selector: 'page-checkout',template:/*ion-inline-start:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/checkout/checkout.html\"*/'<!--\\n  Generated template for the CheckoutPage page.\\n\\n  See http://ionicframework.com/docs/components/#navigation for more info on\\n  Ionic pages and navigation.\\n-->\\n<ion-header>\\n\\n  <ion-navbar hideBackButton>\\n    <ion-buttons>\\n      <button navPop ion-button>\\n\t\t\t\tCancel\\n\t\t\t</button>\\n    </ion-buttons>\\n    <ion-title>Checkout</ion-title>\\n  </ion-navbar>\\n\\n</ion-header>\\n\\n\\n<ion-content padding>\\n  <ion-list inset class=\"no-margin\" radio-group [(ngModel)]=\"selectedPayment\" name=\"test\">\\n    <ion-list-header>\\n      Cards\\n    </ion-list-header>\\n    <ion-item *ngIf=\"loading\"><ion-spinner></ion-spinner></ion-item>\\n    <ion-item *ngFor=\"let card of storedPaymentMethods.cards; let i = index;\">\\n      <ion-label>\\n        <ion-col col-6>{{card.brand}} - **** **** **** {{card.last4}}</ion-col>\\n        <ion-col col-6>{{card.exp_month}}/{{card.exp_year}}</ion-col>\\n      </ion-label>\\n      <ion-radio [value]=\"card\" checked></ion-radio>\\n    </ion-item>\\n\\n    <ion-item><ion-label class=\"center\">OR</ion-label></ion-item>\\n    <ion-item detail-push (click)=\"addPayment()\">\\n      Add new payment method\\n    </ion-item>\\n\\n    <button ion-button type=\"submit\" (click)=\"submitOrder()\" block>Pay £{{order.subtotal}}</button>\\n  </ion-list>\\n</ion-content>\\n'/*ion-inline-end:\"/Users/michaelwild/Documents/Wild Applications/Microservices/ionic/src/pages/checkout/checkout.html\"*/,\n    }),\n    __metadata(\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"i\" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"j\" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_stripe__[\"a\" /* Stripe */], __WEBPACK_IMPORTED_MODULE_3__services_cache_service__[\"a\" /* CacheService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"h\" /* ModalController */], __WEBPACK_IMPORTED_MODULE_4__services_rest_service__[\"a\" /* RestService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"a\" /* AlertController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__[\"g\" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_6__services_basket_service__[\"a\" /* BasketService */]])\n], CheckoutPage);\n\n//# sourceMappingURL=checkout.js.map\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/checkout/checkout.ts\n// module id = 70\n// module chunks = 7\n\n//# sourceURL=/Users/michaelwild/Documents/Wild_Applications/Microservices/ionic/src/pages/checkout/checkout.ts");

/***/ })

},[270]);